<h2>Tickets</h2>
<h3>This event has been marked as <span ng-if="$ctrl.event.freeOfCharge">Free of charge</span> <span ng-if="!$ctrl.event.freeOfCharge">Paid</span></h3>

<div ng-if="!$ctrl.event.freeOfCharge">
    <label>Accepted payment methods</label>
    <p>{{$ctrl.event.allowedPaymentProxies.join(', ')}}</p>
</div>
<div>
    <label>Max tickets</label>
    <p>{{$ctrl.event.availableSeats}}</p>
</div>
<div ng-if="!$ctrl.event.freeOfCharge">
    <label>Regular Price</label>
    <p>{{$ctrl.event.regularPrice | currency : ($ctrl.event.currency || "")}}</p>
</div>
<div ng-if="!$ctrl.event.freeOfCharge">
    <label>VAT (%)</label>
    <p>{{$ctrl.event.vat}}</p>
</div>
<div ng-if="!$ctrl.event.freeOfCharge">
    <label>Final Price</label>
    <p>{{$ctrl.calculateTotalPrice($ctrl.event) | currency : ($ctrl.event.currency || "")}}</p>
</div>

<!--FIXME -->
<div style="max-width:300px">
    <ticket-status statistics-container="$ctrl.event"></ticket-status>
</div>

<h3>Categories</h3>
<p>Here the categories that have been defined for this event.</p>

<div ng-repeat="ticketCategory in $ctrl.event.ticketCategories | orderBy: ['id']" ng-class="$ctrl.evaluateCategoryStatusClass($index, ticketCategory)">
    <md-card>
        <md-card-title>
            <md-card-title-text><span class="md-headline">{{::ticketCategory.name}}</span></md-card-title-text>
            <md-card-title-media>
                <div class="card-media">
                    <ticket-status statistics-container="ticketCategory"></ticket-status>
                </div>
            </md-card-title-media>
        </md-card-title>
        <md-card-content>
            <table>
                <tbody>
                    <tr>
                        <th>Max tickets</th>
                        <td>
                            <span ng-if="ticketCategory.bounded">{{::ticketCategory.maxTickets}}</span>
                            <span ng-if="!ticketCategory.bounded">dynamic</span>
                        </td>
                    </tr>
                    <tr>
                        <th>Initial sale date</th>
                        <td>{{::ticketCategory.formattedInception | formatDate}}</td>
                    </tr>
                    <tr>
                        <th>End sale date</th>
                        <td>{{::ticketCategory.formattedExpiration | formatDate}}</td>
                    </tr>
                    <tr ng-if="!$ctrl.event.freeOfCharge">
                        <th>Final price</th>
                        <td>{{::ticketCategory.actualPrice | currency : ($ctrl.event.currency || "")}}</td>
                    </tr>
                </tbody>
            </table>
        </md-card-content>
    </md-card>
</div>